#pragma once

#include "DataTypes.h"
#include "RakNetTypes.h"
#include "PlayerPhysics.h" // NEW
#include "NetworkIDManager.h" // ADDED: Required for SetNetworkIDManager

// #include <memory>          // REMOVED: No longer using std::unique_ptr for m_physics

class Player {
public:
    Player();
    ~Player();

    void CreatePhysics(btDiscreteDynamicsWorld* world, float x, float y, float z);
    void ProcessInput(const PlayerInput& input);

    PlayerPhysics* GetPhysics() const; // Renamed for clarity
    RakNet::RakNetGUID GetGUID() const;
    void SetGUID(RakNet::RakNetGUID g);

    // ADDED: Declaration for SetNetworkIDManager
    void SetNetworkIDManager(RakNet::NetworkIDManager* networkIDManager);

private:
    PlayerPhysics* m_physics; // Raw pointer
    RakNet::RakNetGUID guid;
    RakNet::NetworkIDManager* m_networkIDManager; // ADDED: To store the NetworkIDManager
};